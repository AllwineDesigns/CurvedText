(this["webpackJsonpcurved-text"]=this["webpackJsonpcurved-text"]||[]).push([[0],{39:function(e,t){},61:function(e,t,a){e.exports=a(81)},66:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(8),l=a.n(i),o=(a(66),a(43)),c=a(44),s=a(51),h=a(50),u=a(45),m=a(46),d=a.n(m),g=a(48),v=a.n(g),p=a(129),f=a(119),S=a(123),E=a(126),b=a(131),w=a(130),k=a(128),C=a(132),M=a(127),x=a(4),D=function(e){Object(s.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).updatePathData=function(){var t,a=e.state,n=a.value,r=a.fontSize,i=a.units,l=a.diameter;switch(i){case"cm":t=96/2.54;break;case"mm":t=96/25.4;break;default:t=96}var o=n.split("\n"),c=Number.MAX_VALUE,s=Number.MIN_VALUE,h=l*t/2,u=[],m=[],d=[],g=[],p=[],f=r*t;o.forEach((function(a,n){var i=e.textToSVG.getD(a,{x:0,y:f,fontSize:r*t,anchor:"left baseline"});u.push(i);var l=v()(i);g.push(l);var o=Number.MAX_VALUE,m=Number.MIN_VALUE,d=Number.MAX_VALUE,S=Number.MIN_VALUE;l.forEach((function(e){if("Q"===e[0]){var t=e[1]/h;t<o&&(o=t),t>m&&(m=t);var a=e[3]/h;a<o&&(o=a),a>m&&(m=a),e[2]<d&&(d=e[2]),e[2]>S&&(S=e[2]),e[4]<d&&(d=e[4]),e[4]>S&&(S=e[4])}else if("Z"===e[0]);else{var n=e[1]/h;n<o&&(o=n),n>m&&(m=n),e[2]<d&&(d=e[2]),e[2]>S&&(S=e[2])}})),o<c&&(c=o),m>s&&(s=m),p.push(-(o+m)/2),f+=r*t}));var S=-(s+c)/2;g.forEach((function(e,t){var a="",n="";e.forEach((function(e){var r=e.slice(),i=e.slice();if("Q"===r[0]){var l=r[1]/h+p[t];r[1]=h*Math.sin(l)-h*S;var o=r[3]/h+p[t];r[3]=h*Math.sin(o)-h*S,a+=" "+r.join(" "),i[1]=i[1]+p[t]*h-h*S,i[3]=i[3]+p[t]*h-h*S,n+=" "+i.join(" ")}else if("Z"===r[0])a+=" "+r.join(" "),n+=" "+i.join(" ");else{var c=r[1]/h+p[t];r[1]=h*Math.sin(c)-h*S,a+=" "+r.join(" "),i[1]=i[1]+p[t]*h-h*S,n+=" "+i.join(" ")}})),d.push(a),m.push(n)}));var E=s*h-c*h;e.setState({pathStrings:m,width:E,height:f,warpedPathStrings:d})},e.handleDoWarp=function(t,a){e.setState({doWarp:a})},e.handleFontSizeChange=function(t){var a=t.target.value;try{var n=parseFloat(a);n>0?e.setState({fontSize:n,fontSizeString:a},e.updatePathData):e.setState({fontSizeString:a})}catch(t){e.setState({fontSizeString:a})}},e.handleUnitsChange=function(t){var a,n,r=e.state,i=r.diameter,l=r.fontSize,o=r.units,c=t.target.value;switch(o){case"mm":a=1/25.4;break;case"cm":a=1/2.54;break;case"in":default:a=1}switch(c){case"mm":n=25.4;break;case"cm":n=2.54;break;case"in":default:n=1}var s=i*a*n,h=l*a*n;e.setState({diameter:s,fontSize:h,diameterString:""+Math.round(1e5*s)/1e5,fontSizeString:""+Math.round(1e5*h)/1e5,units:c},e.updatePathData)},e.handleDiameterChange=function(t){var a=t.target.value;try{var n=parseFloat(a);n>0?e.setState({diameter:n,diameterString:a},e.updatePathData):e.setState({diameterString:a})}catch(t){e.setState({diameterString:a})}},e.handleChange=function(t){var a=t.target.value,n=a.split("\n").length;e.setState({value:a,lines:n},e.updatePathData)},e.handleDownloadSVG=function(t){var a=e.state,n=a.value,i=a.height,l=a.width,o=a.doWarp,c=a.warpedPathStrings,s=a.pathStrings,h=r.a.createElement("svg",{width:Math.round(l/96*1e6)/1e6+"in",height:Math.round(i/96*1e6)/1e6+"in",viewBox:"0 0 "+l+" "+i,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},o?c.map((function(e,t){return r.a.createElement("g",{key:t},r.a.createElement("path",{d:e}))})):s.map((function(e,t){return r.a.createElement("g",{key:t},r.a.createElement("path",{d:e}))}))),m=Object(u.renderToString)(h),d=document.createElement("a");d.setAttribute("href","data:image/svg+xml;charset=utf-8,"+encodeURIComponent(m)),d.setAttribute("download",n.split("\n").join("_")+".svg"),d.click(),console.log(m)},e.state={pathStrings:[],warpedPathStrings:[],value:"Cinnamon",doWarp:!0,width:100,height:40,lines:1,fontSizeString:".4",diameterString:"1.686",fontSize:.4,diameter:1.686,units:"in"},e}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=this;d.a.load("./Times New Roman.ttf",(function(t,a){e.textToSVG=a,e.updatePathData()}))}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.pathStrings,n=t.warpedPathStrings,i=t.width,l=t.height,o=t.value,c=t.doWarp,s=t.lines,h=t.fontSizeString,u=t.diameterString,m=t.units;return r.a.createElement(f.a,{className:e.card},r.a.createElement(S.a,null,r.a.createElement("div",null,r.a.createElement(p.a,{fullWidth:!0,multiline:!0,rows:s,value:o,onChange:this.handleChange}),r.a.createElement(b.a,{control:r.a.createElement(p.a,{value:h,onChange:this.handleFontSizeChange}),label:"Font Size",labelPlacement:"start",classes:{label:e.label}}),r.a.createElement(b.a,{control:r.a.createElement(p.a,{value:u,onChange:this.handleDiameterChange}),label:"Diameter",labelPlacement:"start",classes:{label:e.label}}),r.a.createElement(b.a,{control:r.a.createElement(k.a,{value:m,onChange:this.handleUnitsChange},r.a.createElement(C.a,{value:"in"},"Inches"),r.a.createElement(C.a,{value:"mm"},"Millimeters"),r.a.createElement(C.a,{value:"cm"},"Centimeters")),label:"Units",labelPlacement:"start",classes:{label:e.label}}),r.a.createElement(b.a,{control:r.a.createElement(w.a,{checked:c,onChange:this.handleDoWarp,color:"primary"}),label:"Do Warp"})),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("svg",{preserveAspectRatio:"xMidYMin",className:e.svg,height:3*l,viewBox:"0 0 "+i+" "+l},c?n.map((function(e,t){return r.a.createElement("g",{key:t},r.a.createElement("path",{d:e}))})):a.map((function(e,t){return r.a.createElement("g",{key:t},r.a.createElement("path",{d:e}))}))))),r.a.createElement(E.a,null,r.a.createElement(M.a,{variant:"raised",color:"primary",onClick:this.handleDownloadSVG},"Download SVG")))}}]),a}(n.Component),z=Object(x.a)({card:{maxWidth:900},svg:{border:"1px solid black",maxWidth:850,display:"block",margin:"auto"},label:{paddingRight:5}})(D);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[61,1,2]]]);
//# sourceMappingURL=main.4ff422d2.chunk.js.map